<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>youngchul&#39;s website</title>
    <link>https://youngchul.github.io/</link>
    <description>Recent content on youngchul&#39;s website</description>
    <generator>Hugo - gohugo.io</generator>
    <language>en</language>
    <contact>youngchul@gmail.com</contact>
    <copyright>&copy; 2019 ë°©ì˜ì²  (Youngchul Bang)</copyright>
    
        <atom:link href="https://youngchul.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Kubebuilder ì‚¬ìš©í•´ì„œ Kubernetes Controller ë§Œë“¤ê¸°</title>
      <link>https://youngchul.github.io/posts/kubernetes-controller-using-kubebuilder/</link>
      <pubDate>Mon, 26 Aug 2019 00:00:00 +0000</pubDate>
      <author>ë°©ì˜ì²  (Youngchul Bang)</author>
      <guid>https://youngchul.github.io/posts/kubernetes-controller-using-kubebuilder/</guid>
      <description></description>
      
      <content>

&lt;p&gt;&lt;a href=&#34;https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/#custom-controllers&#34; target=&#34;_blank&#34;&gt;Kubernetes Custom Controller&lt;/a&gt;ë¥¼ Go ì–¸ì–´ë¡œ ë§Œë“œëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•©ë‹ˆë‹¤. &lt;a href=&#34;https://github.com/kubernetes/client-go&#34; target=&#34;_blank&#34;&gt;client-go&lt;/a&gt; ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ì„œ &lt;a href=&#34;https://kubernetes.io/docs/concepts/overview/kubernetes-api/&#34; target=&#34;_blank&#34;&gt;Kubernetes API&lt;/a&gt;ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ì„ ì£¼ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, &lt;a href=&#34;https://github.com/kubernetes/sample-controller&#34; target=&#34;_blank&#34;&gt;sample-controller&lt;/a&gt; ì˜ˆì œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ &lt;a href=&#34;https://github.com/kubernetes/sample-controller/blob/master/docs/controller-client-go.md&#34; target=&#34;_blank&#34;&gt;client-go ë¼ì´ë¸Œë¦¬ì˜ ë™ì‘ë°©ì‹ê³¼ ì»´í¬ë„ŒíŠ¸ë“¤&lt;/a&gt;ë¥¼ ì´í•´í•˜ê³  ì•Œë§ê²Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. &lt;a href=&#34;https://github.com/kubernetes-sigs/kubebuilder&#34; target=&#34;_blank&#34;&gt;Kubebuilder&lt;/a&gt; ë˜ëŠ” &lt;a href=&#34;https://github.com/operator-framework/operator-sdk&#34; target=&#34;_blank&#34;&gt;Operator SDK&lt;/a&gt; í”„ë ˆì„ì›Œí¬ê°€ client-go ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì˜¬ë°”ë¥¸ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ Kubernetes Controllerë¥¼ ë³´ë‹¤ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì—ì„œëŠ” Kubebuilder v2 ë²„ì „ì„ ì‚¬ìš©í•´ì„œ Memcached Controller ë§Œë“œëŠ” ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤. Memcached Controller ì½”ë“œëŠ” Operator SDK ì˜ˆì œ ì¤‘ í•˜ë‚˜ì¸ &lt;a href=&#34;https://github.com/operator-framework/operator-sdk-samples/tree/master/memcached-operator&#34; target=&#34;_blank&#34;&gt;memcached-operator&lt;/a&gt;ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤. ê²°ê³¼ë¬¼ì€ &lt;a href=&#34;https://github.com/youngchul/memcached-controller&#34; target=&#34;_blank&#34;&gt;memcached-controller&lt;/a&gt; ì €ì¥ì†Œì— ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;kubebuilder&#34;&gt;Kubebuilder&lt;/h2&gt;

&lt;p&gt;KubebuilderëŠ” CRDsë¥¼ ì‚¬ìš©í•˜ëŠ” Kubernetes APIsë¥¼ ë§Œë“¤ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬ë¼ê³  ì†Œê°œí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Kubebuilder is a framework for building Kubernetes APIs using custom resource definitions (CRDs).
&lt;a href=&#34;https://github.com/kubernetes-sigs/kubebuilder#kubebuilder&#34; target=&#34;_blank&#34;&gt;https://github.com/kubernetes-sigs/kubebuilder#kubebuilder&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ìµœê·¼ì— &lt;a href=&#34;https://github.com/kubernetes-sigs/kubebuilder/releases/tag/v2.0.0&#34; target=&#34;_blank&#34;&gt;Kubebuilder v2.0.0&lt;/a&gt; ë²„ì „ì´ ì¶œì‹œëìŠµë‹ˆë‹¤. ìµœì‹  ë²„ì „ì€ &lt;a href=&#34;https://github.com/kubernetes-sigs/kubebuilder/releases&#34; target=&#34;_blank&#34;&gt;releases&lt;/a&gt; í˜ì´ì§€ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;kubebuilder-ì„¤ì¹˜&#34;&gt;Kubebuilder ì„¤ì¹˜&lt;/h2&gt;

&lt;p&gt;ë¨¼ì €, &lt;a href=&#34;https://blog.golang.org/using-go-modules&#34; target=&#34;_blank&#34;&gt;Go modules&lt;/a&gt;ë¥¼ ì§€ì›í•˜ëŠ” go 1.11 ë²„ì „ ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  &lt;a href=&#34;https://github.com/kubernetes-sigs/kustomize&#34; target=&#34;_blank&#34;&gt;kustomize&lt;/a&gt; 3.1.0 ë²„ì „ ì´ìƒë„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. macOSì—ì„œëŠ” &lt;code&gt;brew install&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ ê°„í¸í•˜ê²Œ ì„¤ì¹˜í•©ë‹ˆë‹¤. ë‹¤ë¥¸ í™˜ê²½ì—ì„œëŠ” &lt;a href=&#34;https://golang.org/doc/install&#34; target=&#34;_blank&#34;&gt;Go ì„¤ì¹˜ ë¬¸ì„œ&lt;/a&gt;ì™€ &lt;a href=&#34;https://sigs.k8s.io/kustomize/docs/INSTALL.md&#34; target=&#34;_blank&#34;&gt;Kustomize ì„¤ì¹˜ ë¬¸ì„œ&lt;/a&gt;ë¥¼ ì°¸ê³ í•´ì„œ ì„¤ì¹˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ brew install go kustomize
[...]

# ì„¤ì¹˜ í™•ì¸
$ go version
go version go1.12.9 darwin/amd64
$ kustomize version
Version: {KustomizeVersion:3.1.0 GitCommit:95f3303493fdea243ae83b767978092396169baf BuildDate:2019-07-26T19:21:45+01:00 GoOs:darwin GoArch:amd64}
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;KubebuilderëŠ” &lt;a href=&#34;https://book.kubebuilder.io/quick-start.html#installation&#34; target=&#34;_blank&#34;&gt;ì„¤ì¹˜ ë¬¸ì„œ&lt;/a&gt; ì„¤ëª…ëŒ€ë¡œ ë°”ì´ë„ˆë¦¬ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì•„ì„œ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ os=$(go env GOOS)
$ arch=$(go env GOARCH)

# download kubebuilder and extract it to tmp
$ curl -sL https://go.kubebuilder.io/dl/2.0.0/${os}/${arch} | tar -xz -C /tmp/

# move to a long-term location and put it on your path
# (you&#39;ll need to set the KUBEBUILDER_ASSETS env var if you put it somewhere else)
sudo mv /tmp/kubebuilder_2.0.0_${os}_${arch} /usr/local/kubebuilder
export PATH=$PATH:/usr/local/kubebuilder/bin

# ì„¤ì¹˜ í™•ì¸
$ kubebuilder version
Version: version.Version{KubeBuilderVersion:&amp;quot;2.0.0&amp;quot;, KubernetesVendor:&amp;quot;1.14.1&amp;quot;, GitCommit:&amp;quot;b31cc5d96dbc91749eb49c2cf600bd951a46d4bd&amp;quot;, BuildDate:&amp;quot;2019-08-22T23:39:53Z&amp;quot;, GoOs:&amp;quot;unknown&amp;quot;, GoArch:&amp;quot;unknown&amp;quot;}
$
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;í”„ë¡œì íŠ¸-ë§Œë“¤ê¸°&#34;&gt;í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°&lt;/h2&gt;

&lt;p&gt;ë””ë ‰í† ë¦¬ë¥¼ í•˜ë‚˜ ë§Œë“­ë‹ˆë‹¤. ê·¸ë¦¬ê³  Go modulesë¥¼ ì‚¬ìš©í•˜ë„ë¡ ëª…ì‹œì ìœ¼ë¡œ &lt;code&gt;GO111MODULE&lt;/code&gt; í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir -p memcached-controller
$ cd memcached-controller
$ export GO111MODULE=on
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ì´ ì˜ˆì œì—ì„œ ë§Œë“œëŠ” Memcached ë¦¬ì†ŒìŠ¤ëŠ” &lt;code&gt;cache.example.com/v1alpha1&lt;/code&gt; API Groupê³¼ &lt;code&gt;Memcached&lt;/code&gt; Kindë¡œ ì •ì˜í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ë•Œ, &lt;code&gt;--domain&lt;/code&gt; ì˜µì…˜ì— &lt;code&gt;example.com&lt;/code&gt; ë„ë©”ì¸ì„ ì‚¬ìš©í•˜ê³ , &lt;code&gt;--repo&lt;/code&gt; ì˜µì…˜ì— ì €ì¥ì†Œ ì£¼ì†Œë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kubebuilder init --domain example.com --repo github.com/youngchul/memcached-controller
go mod tidy
Running make...
make
/Users/youngchul/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths=&amp;quot;./...&amp;quot;
go fmt ./...
go vet ./...
go build -o bin/manager main.go
Next: Define a resource with:
$ kubebuilder create api
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ê¸°ë³¸ì ì¸ ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ì´ ì•„ë˜ì™€ ê°™ì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ tree -L 1 -F .
.
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ Makefile
â”œâ”€â”€ PROJECT
â”œâ”€â”€ bin/
â”œâ”€â”€ config/
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ hack/
â””â”€â”€ main.go

3 directories, 6 files
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ì£¼ìš” íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;go.mod&lt;/code&gt;: Go module ê²½ë¡œì™€ í•„ìš”í•œ íŒ¨í‚¤ì§€ ì •ë³´ê°€ ê¸°ë¡ë©ë‹ˆë‹¤. Kubebuilder v2 ë²„ì „ì—ì„œ ì‚¬ìš©í•˜ëŠ” í…œí”Œë¦¿ì€ &lt;a href=&#34;https://github.com/kubernetes-sigs/kubebuilder/blob/v2.0.0/pkg/scaffold/v2/gomod.go#L41-L47&#34; target=&#34;_blank&#34;&gt;pkg/scaffold/v2/gomod.go&lt;/a&gt; íŒŒì¼ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Makefile&lt;/code&gt;: ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ê³  ë°°í¬í•˜ëŠ” make íƒ€ì¼“ë“¤ì´ ìˆìŠµë‹ˆë‹¤. &lt;a href=&#34;https://github.com/kubernetes-sigs/kubebuilder/blob/v2.0.0/pkg/scaffold/v2/makefile.go#L46-L113&#34; target=&#34;_blank&#34;&gt;pkg/scaffold/v2/makefile.go&lt;/a&gt; íŒŒì¼ì—ì„œ Makefile í…œí”Œë¦¿ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PROJECT&lt;/code&gt;: Kubebuilder ë©”íƒ€ë°ì´í„°ê°€ ìˆìŠµë‹ˆë‹¤. version, domain, repo ì •ë³´ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config/&lt;/code&gt;: CRDì™€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í´ëŸ¬ìŠ¤í„°ì— ë°°í¬ í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì„¤ì • íŒŒì¼ë“¤ì´ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;main.go&lt;/code&gt;: ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë©”ë‹ˆì €ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ” &lt;code&gt;main()&lt;/code&gt; í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;kubebuilder init&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìì„¸í•œ íŒŒì¼ ë‚´ìš©ì€ &lt;a href=&#34;https://github.com/youngchul/memcached-controller/commit/ec352f0c686f1038d9967d70005b8df07c49b9b0&#34; target=&#34;_blank&#34;&gt;ì—¬ê¸°&lt;/a&gt;ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;api-ë§Œë“¤ê¸°&#34;&gt;API ë§Œë“¤ê¸°&lt;/h2&gt;

&lt;p&gt;Memcached ë¦¬ì†ŒìŠ¤ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“­ë‹ˆë‹¤. ìš°ì„ , &lt;code&gt;kubebuilder create api&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ ë¼ˆëŒ€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kubebuilder create api --group cache --version v1alpha1 --kind Memcached
Create Resource [y/n]
y
Create Controller [y/n]
y
Writing scaffold for you to edit...
api/v1alpha1/memcached_types.go
controllers/memcached_controller.go
Running make...
/Users/youngchul/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths=&amp;quot;./...&amp;quot;
go fmt ./...
go vet ./...
go build -o bin/manager main.go
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;PROJECT&lt;/code&gt; íŒŒì¼ì— ë¦¬ì†ŒìŠ¤ê°€ ì¶”ê°€ ë˜ê³ , Memcached íƒ€ì…ì´ &lt;code&gt;api/v1alpha1/memcached_types.go&lt;/code&gt; íŒŒì¼ì— ì •ì˜ë˜ë©°, ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” &lt;code&gt;controllers/memcached_controller.go&lt;/code&gt; íŒŒì¼ì— ìˆìŠµë‹ˆë‹¤. &lt;code&gt;kubebuilder create api&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìì„¸í•œ íŒŒì¼ ë‚´ìš©ì€ &lt;a href=&#34;https://github.com/youngchul/memcached-controller/commit/32a23c52f9b00b4f9df72bc96aa7475e5921b987&#34; target=&#34;_blank&#34;&gt;ì—¬ê¸°&lt;/a&gt;ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&#34;specê³¼-status-í•„ë“œ-ì¶”ê°€í•˜ê¸°&#34;&gt;Specê³¼ Status í•„ë“œ ì¶”ê°€í•˜ê¸°&lt;/h3&gt;

&lt;p&gt;Memcached íƒ€ì…ì— ì›í•˜ëŠ” Specê³¼ Status í•„ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. &lt;code&gt;MemcachedSpec.Size&lt;/code&gt; í•„ë“œëŠ” deploymentì˜ replicas ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ê³ , &lt;code&gt;MemcachedStatus.Nodes&lt;/code&gt; í•„ë“œëŠ” memcachedê°€ ì‹¤í–‰ ì¤‘ì¸ pods ì´ë¦„ìœ¼ë¡œ ê°±ì‹ ë©ë‹ˆë‹¤. Operator SDK ì˜ˆì œì¸ &lt;a href=&#34;https://github.com/operator-framework/operator-sdk-samples/blob/bd30254f3a7e3943fdbae33e9b6992bce1e07755/memcached-operator/pkg/apis/cache/v1alpha1/memcached_types.go#L10-L20&#34; target=&#34;_blank&#34;&gt;Memcached Operator ì½”ë“œ&lt;/a&gt;ë¥¼ ì°¸ê³ í•´ì„œ ì•„ë˜ì™€ ê°™ì´ í•„ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// MemcachedSpec defines the desired state of Memcached
type MemcachedSpec struct {
    // Size is the size of the memcached deployment
    Size int32 `json:&amp;quot;size&amp;quot;`
}

// MemcachedStatus defines the observed state of Memcached
type MemcachedStatus struct {
    // Nodes are the names of the memcached pods
    Nodes []string `json:&amp;quot;nodes&amp;quot;`
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Memcached íƒ€ì…ì„ ë³€ê²½í•˜ë©´ &lt;code&gt;api/v1alpha1/zz_generated.deepcopy.go&lt;/code&gt; íŒŒì¼ì„ ë‹¤ì‹œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. &lt;code&gt;make generate&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ &lt;code&gt;controller-gen&lt;/code&gt; ë„êµ¬ë¥¼ ì‹¤í–‰í•´ì„œ íŒŒì¼ì„ ë‹¤ì‹œ ë§Œë“­ë‹ˆë‹¤. ê·¸ë¦¬ê³  CRDì™€ ClusterRoleë„ &lt;code&gt;make manifests&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ &lt;code&gt;controller-gen&lt;/code&gt;ì„ ì‹¤í–‰í•´ì„œ ê°±ì‹ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ make generate
/Users/youngchul/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths=&amp;quot;./...&amp;quot;
$ make manifests
/Users/youngchul/go/bin/controller-gen &amp;quot;crd:trivialVersions=true&amp;quot; rbac:roleName=manager-role webhook paths=&amp;quot;./...&amp;quot; output:crd:artifacts:config=config/crd/bases
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Specê³¼ Status í•„ë“œë¥¼ ì¶”ê°€í•˜ê³  ìƒì„±ëœ íŒŒì¼ ë‚´ìš©ì€ &lt;a href=&#34;https://github.com/youngchul/memcached-controller/commit/98175721e36f693d96d1e58c87dd9fb92b595978&#34; target=&#34;_blank&#34;&gt;ì—¬ê¸°&lt;/a&gt;ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&#34;ì»¨íŠ¸ë¡¤ëŸ¬-ë¡œì§-ì¶”ê°€í•˜ê¸°&#34;&gt;ì»¨íŠ¸ë¡¤ëŸ¬ ë¡œì§ ì¶”ê°€í•˜ê¸°&lt;/h3&gt;

&lt;p&gt;Memcached ë¦¬ì†ŒìŠ¤ê°€ ì¶”ê°€/ë³€ê²½/ì‚­ì œë˜ëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒ í•  ë•Œë§ˆë‹¤ &lt;a href=&#34;https://godoc.org/sigs.k8s.io/controller-runtime/pkg/reconcile#Reconciler&#34; target=&#34;_blank&#34;&gt;Reconcile()&lt;/a&gt; ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ê³ , ì—¬ê¸°ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë™ì‘ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ Memcached ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;Deployment ì¸ìŠ¤í„´ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•´ì„œ ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“­ë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;Service ì¸ìŠ¤í„´ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•´ì„œ ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“­ë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;Memcached ì¸ìŠ¤í„´ìŠ¤ì˜ &lt;code&gt;Spec.Size&lt;/code&gt;ì™€ Deployment ì¸ìŠ¤í„´ìŠ¤ì˜ &lt;code&gt;Spec.Replicas&lt;/code&gt;ë¥¼ ë¹„êµí•´ì„œ ë‹¤ë¥´ë©´ Deployment ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;Memcached ì¸ìŠ¤í„´ìŠ¤ì˜ &lt;code&gt;Status.Nodes&lt;/code&gt;ë¥¼ í™•ì¸í•´ì„œ ë³€ê²½ì´ ìˆìœ¼ë©´ ê°±ì‹ í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Reconcile() ë©”ì†Œë“œì— ì¶”ê°€ëœ ë‚´ìš©ì€ &lt;a href=&#34;https://github.com/youngchul/memcached-controller/commit/f2e56b5902df923ea18c27aefdb3df24851a6b12&#34; target=&#34;_blank&#34;&gt;ì—¬ê¸°&lt;/a&gt;ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;í…ŒìŠ¤íŠ¸í•˜ê¸°&#34;&gt;í…ŒìŠ¤íŠ¸í•˜ê¸°&lt;/h2&gt;

&lt;p&gt;ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ Kubernetes í´ëŸ¬ìŠ¤í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤. &lt;a href=&#34;https://kind.sigs.k8s.io&#34; target=&#34;_blank&#34;&gt;kind&lt;/a&gt;ë¥¼ ì´ìš©í•´ì„œ ë¡œì»¬ì— í…ŒìŠ¤íŠ¸ìš© Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Go 1.11 ë²„ì „ ì´ìƒê³¼ Dockerê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# kind ì„¤ì¹˜
$ GO111MODULE=&amp;quot;on&amp;quot; go get sigs.k8s.io/kind@v0.5.1
[...]

# Kubernetes í´ëŸ¬ìŠ¤í„° ë§Œë“¤ê¸°
$ kind create cluster
Creating cluster &amp;quot;kind&amp;quot; ...
 âœ“ Ensuring node image (kindest/node:v1.15.3) ğŸ–¼
 âœ“ Preparing nodes ğŸ“¦
 âœ“ Creating kubeadm config ğŸ“œ
 âœ“ Starting control-plane ğŸ•¹ï¸
 âœ“ Installing CNI ğŸ”Œ
 âœ“ Installing StorageClass ğŸ’¾
Cluster creation complete. You can now use the cluster with:

export KUBECONFIG=&amp;quot;$(kind get kubeconfig-path --name=&amp;quot;kind&amp;quot;)&amp;quot;
kubectl cluster-info
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;KUBECONFIG&lt;/code&gt; í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê³  í´ëŸ¬ìŠ¤í„° ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ export KUBECONFIG=&amp;quot;$(kind get kubeconfig-path --name=&amp;quot;kind&amp;quot;)&amp;quot;
$ kubectl cluster-info
Kubernetes master is running at https://127.0.0.1:51801
KubeDNS is running at https://127.0.0.1:51801/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;í´ëŸ¬ìŠ¤í„°ì— Memcached CRDë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ make install
/Users/youngchul/go/bin/controller-gen &amp;quot;crd:trivialVersions=true&amp;quot; rbac:roleName=manager-role webhook paths=&amp;quot;./...&amp;quot; output:crd:artifacts:config=config/crd/bases
kustomize build config/crd | kubectl apply -f -
customresourcedefinition.apiextensions.k8s.io/memcacheds.cache.example.com created

# CRD í™•ì¸
$ kubectl get crds
NAME                           CREATED AT
memcacheds.cache.example.com   2019-08-25T12:27:49Z
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ì´ì œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. &lt;code&gt;make run&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.  ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê³„ì† ì‹¤í–‰ë˜ê³  ìˆê³ , ì‰˜ í”„ë¡¬í”„íŠ¸ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ í›„ë¶€í„°ëŠ” ìƒˆë¡œìš´ í„°ë¯¸ë„ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ make run
/Users/youngchul/go/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths=&amp;quot;./...&amp;quot;
go fmt ./...
go vet ./...
/Users/youngchul/go/bin/controller-gen &amp;quot;crd:trivialVersions=true&amp;quot; rbac:roleName=manager-role webhook paths=&amp;quot;./...&amp;quot; output:crd:artifacts:config=config/crd/bases
go run ./main.go
2019-08-25T12:55:45.713+0900    INFO    controller-runtime.metrics      metrics server is starting to listen    {&amp;quot;addr&amp;quot;: &amp;quot;:8080&amp;quot;}
2019-08-25T12:55:45.715+0900    INFO    controller-runtime.controller   Starting EventSource    {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;, &amp;quot;source&amp;quot;: &amp;quot;kind source: /, Kind=&amp;quot;}
2019-08-25T12:55:45.715+0900    INFO    controller-runtime.controller   Starting EventSource    {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;, &amp;quot;source&amp;quot;: &amp;quot;kind source: /, Kind=&amp;quot;}
2019-08-25T12:55:45.715+0900    INFO    controller-runtime.controller   Starting EventSource    {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;, &amp;quot;source&amp;quot;: &amp;quot;kind source: /, Kind=&amp;quot;}
2019-08-25T12:55:45.715+0900    INFO    setup   starting manager
2019-08-25T12:55:45.715+0900    INFO    controller-runtime.manager      starting metrics server {&amp;quot;path&amp;quot;: &amp;quot;/metrics&amp;quot;}
2019-08-25T12:55:45.819+0900    INFO    controller-runtime.controller   Starting Controller     {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;}
2019-08-25T12:55:45.920+0900    INFO    controller-runtime.controller   Starting workers        {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;, &amp;quot;worker count&amp;quot;: 1}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Memcached ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kubectl apply -f config/samples/
memcached.cache.example.com/memcached-sample created
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ì»¨íŠ¸ë¡¤ëŸ¬ì˜ Reconcile() ë©”ì†Œë“œê°€ Memcached ë¦¬ì†ŒìŠ¤ ì¶”ê°€ ì´ë²¤íŠ¸ë¡œ ì¸í•´ í˜¸ì¶œëê³ , Deploymentì™€ Serviceê°€ ìƒì„± ëœ ê²ƒì„ ë¡œê·¸ì—ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2019-08-25T12:57:15.942+0900    INFO    controllers.Memcached   Reconciling Memcached   {&amp;quot;memcached&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
2019-08-25T12:57:15.942+0900    INFO    controllers.Memcached   Creating a new Deployment       {&amp;quot;memcached&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;, &amp;quot;Deployment.Namespace&amp;quot;: &amp;quot;default&amp;quot;, &amp;quot;Deployment.Name&amp;quot;: &amp;quot;memcached-sample&amp;quot;}
2019-08-25T12:57:15.960+0900    INFO    controllers.Memcached   Reconciling Memcached   {&amp;quot;memcached&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
2019-08-25T12:57:15.960+0900    INFO    controllers.Memcached   Creating a new Service  {&amp;quot;memcached&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;, &amp;quot;Service.Namespace&amp;quot;: &amp;quot;default&amp;quot;, &amp;quot;Service.Name&amp;quot;: &amp;quot;memcached-sample&amp;quot;}
2019-08-25T12:57:15.968+0900    INFO    controllers.Memcached   Reconciling Memcached   {&amp;quot;memcached&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
2019-08-25T12:57:16.077+0900    DEBUG   controller-runtime.controller   Successfully Reconciled {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;, &amp;quot;request&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
2019-08-25T12:57:16.077+0900    INFO    controllers.Memcached   Reconciling Memcached   {&amp;quot;memcached&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
2019-08-25T12:57:16.078+0900    DEBUG   controller-runtime.controller   Successfully Reconciled {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;, &amp;quot;request&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
2019-08-25T12:57:17.106+0900    INFO    controllers.Memcached   Reconciling Memcached   {&amp;quot;memcached&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
2019-08-25T12:57:17.106+0900    DEBUG   controller-runtime.controller   Successfully Reconciled {&amp;quot;controller&amp;quot;: &amp;quot;memcached&amp;quot;, &amp;quot;request&amp;quot;: &amp;quot;default/memcached-sample&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Memcached ë¦¬ì†ŒìŠ¤ì™€ ë”ë¶ˆì–´ Deployment, Pod, Serviceê°€ ìƒì„± ëœ ê²ƒì„ &lt;code&gt;kubectl get&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kubectl get memcacheds,deployments,pods,services
NAME                                           AGE
memcached.cache.example.com/memcached-sample   1m10s

NAME                                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.extensions/memcached-sample   1/1     1            1           1m10s

NAME                                    READY   STATUS    RESTARTS   AGE
pod/memcached-sample-79ccbbbbcb-nchrk   1/1     Running   0          1m10s

NAME                       TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)     AGE
service/kubernetes         ClusterIP   10.96.0.1    &amp;lt;none&amp;gt;        443/TCP     12m
service/memcached-sample   ClusterIP   None         &amp;lt;none&amp;gt;        11211/TCP   1m10s
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Memcachedê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ &lt;code&gt;stats&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kubectl run -it --rm --restart=Never alpine --image=alpine -- sh -c &#39;echo stats | nc memcached-sample 11211 | grep uptime&#39;
STAT uptime 51
pod &amp;quot;alpine&amp;quot; deleted
$
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ë¦¬ì†ŒìŠ¤-ì‚­ì œí•˜ê¸°&#34;&gt;ë¦¬ì†ŒìŠ¤ ì‚­ì œí•˜ê¸°&lt;/h3&gt;

&lt;p&gt;ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì¤‘ë‹¨í•˜ê³  Memcached CRDë¥¼ ì‚­ì œí•˜ë©´ Memcached ë¦¬ì†ŒìŠ¤ì™€ í•˜ìœ„ ë¦¬ì†ŒìŠ¤ê°€ ëª¨ë‘ ì‚­ì œë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kubectl delete crds memcacheds.cache.example.com
customresourcedefinition.apiextensions.k8s.io &amp;quot;memcacheds.cache.example.com&amp;quot; deleted
$
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ë°°í¬í•˜ê¸°&#34;&gt;ë°°í¬í•˜ê¸°&lt;/h2&gt;

&lt;p&gt;ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì´ì œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ë°°í¬í•©ë‹ˆë‹¤. &lt;code&gt;make deploy&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ëª¨ë‘ ì„¤ì¹˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ make deploy
/Users/youngchul/go/bin/controller-gen &amp;quot;crd:trivialVersions=true&amp;quot; rbac:roleName=manager-role webhook paths=&amp;quot;./...&amp;quot; output:crd:artifacts:config=config/crd/bases
cd config/manager &amp;amp;&amp;amp; kustomize edit set image controller=youngchul/memcached-controller:latest
kustomize build config/default | kubectl apply -f -
namespace/memcached-controller-system created
customresourcedefinition.apiextensions.k8s.io/memcacheds.cache.example.com created
role.rbac.authorization.k8s.io/memcached-controller-leader-election-role created
clusterrole.rbac.authorization.k8s.io/memcached-controller-manager-role created
clusterrole.rbac.authorization.k8s.io/memcached-controller-proxy-role created
rolebinding.rbac.authorization.k8s.io/memcached-controller-leader-election-rolebinding created
clusterrolebinding.rbac.authorization.k8s.io/memcached-controller-manager-rolebinding created
clusterrolebinding.rbac.authorization.k8s.io/memcached-controller-proxy-rolebinding created
service/memcached-controller-controller-manager-metrics-service created
deployment.apps/memcached-controller-controller-manager created
$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ì»¨íŠ¸ë¡¤ëŸ¬ê°€ &lt;code&gt;memcached-controller-system&lt;/code&gt; ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ &lt;code&gt;memcached-controller-controller-manager&lt;/code&gt; Deploymentì™€ Podì—ì„œ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kubectl get deployments,pods -n memcached-controller-system
NAME                                                            READY   UP-TO-DATE   AVAILABLE   AGE
deployment.extensions/memcached-controller-controller-manager   1/1     1            1           60s

NAME                                                           READY   STATUS    RESTARTS   AGE
pod/memcached-controller-controller-manager-69c57668dc-hv7tf   2/2     Running   0          60s
$
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ë¦¬ì†ŒìŠ¤-ì‚­ì œí•˜ê¸°-1&#34;&gt;ë¦¬ì†ŒìŠ¤ ì‚­ì œí•˜ê¸°&lt;/h3&gt;

&lt;p&gt;ë§Œì•½ ë°°í¬ëœ ëª¨ë“  ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œí•˜ë ¤ë©´, ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kustomize build config/default | kubectl delete -f -
namespace &amp;quot;memcached-controller-system&amp;quot; deleted
customresourcedefinition.apiextensions.k8s.io &amp;quot;memcacheds.cache.example.com&amp;quot; deleted
role.rbac.authorization.k8s.io &amp;quot;memcached-controller-leader-election-role&amp;quot; deleted
clusterrole.rbac.authorization.k8s.io &amp;quot;memcached-controller-manager-role&amp;quot; deleted
clusterrole.rbac.authorization.k8s.io &amp;quot;memcached-controller-proxy-role&amp;quot; deleted
rolebinding.rbac.authorization.k8s.io &amp;quot;memcached-controller-leader-election-rolebinding&amp;quot; deleted
clusterrolebinding.rbac.authorization.k8s.io &amp;quot;memcached-controller-manager-rolebinding&amp;quot; deleted
clusterrolebinding.rbac.authorization.k8s.io &amp;quot;memcached-controller-proxy-rolebinding&amp;quot; deleted
service &amp;quot;memcached-controller-controller-manager-metrics-service&amp;quot; deleted
deployment.apps &amp;quot;memcached-controller-controller-manager&amp;quot; deleted
$
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ë§ˆë¬´ë¦¬&#34;&gt;ë§ˆë¬´ë¦¬&lt;/h2&gt;

&lt;p&gt;Kubebuilder v2 ë²„ì „ì„ ì‚¬ìš©í•´ì„œ Memcached Controller ë§Œë“œëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê³  í…ŒìŠ¤íŠ¸ í–ˆìŠµë‹ˆë‹¤. client-go ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§ì ‘ ì´ìš©í•˜ëŠ” ë°©ì‹ì— ë¹„í•´ ì‘ì„±í•´ì•¼ í•˜ëŠ” ì½”ë“œê°€ ì ê³ , ì¢€ ë” ì§ê´€ì ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬ì¡°ì™€ ì½”ë“œë¥¼ ì´í•´í•˜ê³  ì‘ì„± í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. Kubebuilder í•˜ìœ„ í”„ë¡œì íŠ¸ì¸ &lt;a href=&#34;https://github.com/kubernetes-sigs/controller-runtime&#34; target=&#34;_blank&#34;&gt;controller-runtime&lt;/a&gt;ê³¼ &lt;a href=&#34;https://github.com/kubernetes-sigs/controller-tools&#34; target=&#34;_blank&#34;&gt;controller-tools&lt;/a&gt; ë•ë¶„ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì—¬ëŸ¬ Kubernetes í”„ë¡œì íŠ¸ì—ì„œ Kubebuilderë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, &lt;a href=&#34;https://github.com/kubernetes-sigs/cluster-api&#34; target=&#34;_blank&#34;&gt;Cluster API&lt;/a&gt; í”„ë¡œì íŠ¸ì—ì„œ Kubebuilderë¥¼ ì‚¬ìš©í•˜ê³ , &lt;a href=&#34;https://cluster-api.sigs.k8s.io/provider_implementations/overview.html&#34; target=&#34;_blank&#34;&gt;Cluster API Provider&lt;/a&gt; ê°œë°œì—ë„ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. Cluster APIëŠ” Kubernetes APIsì²˜ëŸ¼ ì„ ì–¸ì ì¸ ë°©ì‹ì„ í†µí•´ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ë§Œë“¤ê³  ê´€ë¦¬í•˜ë ¤ê³  í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. Kubebuilder ì‚¬ìš© ë° ì´í•´ë¥¼ í†µí•´ Kubernetesì™€ ê´€ë ¨ í”„ë¡œì íŠ¸ ì½”ë“œë¥¼ ë³´ë‹¤ ì‰½ê²Œ ì´í•´í•˜ê³  ì ‘ê·¼í•˜ëŠ”ë° ë„ì›€ì´ ë˜ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;
</content>
      
    </item>
    
    <item>
      <title>ë¶í•´ë„ ì—¬í–‰ 2019</title>
      <link>https://youngchul.github.io/posts/hokkaido-2019/</link>
      <pubDate>Sun, 14 Jul 2019 00:00:00 +0000</pubDate>
      <author>ë°©ì˜ì²  (Youngchul Bang)</author>
      <guid>https://youngchul.github.io/posts/hokkaido-2019/</guid>
      <description></description>
      
      <content>

&lt;p&gt;5ì›” ë§ì— ì‚¿í¬ë¡œ ì£¼ë³€ ë¶í•´ë„ë¥¼ ì—¬í–‰í–ˆìŠµë‹ˆë‹¤. ì„±ì¸ ë„¤ ëª…ê³¼ ë¯¸ì·¨í•™ ì–´ë¦°ì´ í•œ ëª…ì´ 2019ë…„ 5ì›” 26ì¼ë¶€í„° 6ì›” 1ì¼ê¹Œì§€ 6ë°• 7ì¼ ë™ì•ˆ ë ŒíŠ¸ì¹´ë¡œ ì´ë™í•˜ë©° ì„¸ ê³³ì˜ ìˆ™ì†Œì—ì„œ ë¨¸ë¬¼ë €ìŠµë‹ˆë‹¤. ë‚ ì”¨ê°€ ì²­ëª…í•˜ê³ , ìŒì‹ì´ ë§›ìˆê³ , í•œì í•˜ê³  ì—¬ìœ ë¡œì›Œì„œ ì¦ê±°ìš´ ì‹œê°„ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. ëŠ¦ì€ ë´„ ë¶í•´ë„ëŠ” ë¶€ëª¨ë‹˜ì„ ëª¨ì‹œê³  ì–´ë¦°ì´ì™€ í•¨ê»˜ ì—¬í–‰í•˜ê¸° ë”± ì¢‹ì€ ì‹œê¸°ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;í•­ê³µê¶Œ&#34;&gt;í•­ê³µê¶Œ&lt;/h2&gt;

&lt;p&gt;í•­ê³µê¶Œì€ &lt;a href=&#34;https://www.koreanair.com/korea/ko.html&#34; target=&#34;_blank&#34;&gt;ëŒ€í•œí•­ê³µ í™ˆí˜ì´ì§€&lt;/a&gt;ì—ì„œ êµ¬ì…í–ˆìŠµë‹ˆë‹¤. ì¸ì²œ&amp;ndash;ì‹ ì¹˜í† ì„¸ êµ¬ê°„ ì„±ì¸ í•œ ëª…ì´ ì™•ë³µ 24ë§Œì›ì´ê³ , ë‹¤ì„¯ ëª… ëª¨ë‘ í•©ì³ 118ë§Œì›ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;ìˆ™ì†Œ&#34;&gt;ìˆ™ì†Œ&lt;/h2&gt;

&lt;p&gt;ìˆ™ì†ŒëŠ” í† ë§ˆë¬´ì—ì„œ ì´í‹€, ì‚¿í¬ë¡œì—ì„œ ì‚¼ì¼, ë…¸ë³´ë¦¬ë² ì¸ ì—ì„œ í•˜ë£¨ ë¬µì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.hoshinoresorts.com/kr/resortsandhotels/uniquehotels/tomamuthetower.html&#34; target=&#34;_blank&#34;&gt;í˜¸ì‹œë…¸ ë¦¬ì¡°íŠ¸ í† ë§ˆë¬´ ë” íƒ€ì›Œ&lt;/a&gt; 2ë°• 83,250ì—” (ì¡°ì‹ í¬í•¨)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.hotelmonterey.co.jp/kr/sapporo/&#34; target=&#34;_blank&#34;&gt;í˜¸í…” ëª¬í† ë ˆ ì‚¿í¬ë¡œ&lt;/a&gt; 3ë°• 49,920ì—” (ì¡°ì‹ ë¯¸í¬í•¨)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.japanican.com/kr/hotel/detail/1558018/&#34; target=&#34;_blank&#34;&gt;ë£Œí…Œì´ í•˜ë‚˜ìœ ë¼&lt;/a&gt; 1ë°• 76,500ì—” (ì¡°ì„ì‹ í¬í•¨)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;í˜¸ì‹œë…¸ ë¦¬ì¡°íŠ¸ í† ë§ˆë¬´ëŠ” ë†€ê±°ë¦¬, ë³¼ê±°ë¦¬, ë¨¹ì„ê±°ë¦¬ê°€ ë§ì•„ì„œ ë§Œì¡±í–ˆìŠµë‹ˆë‹¤. &lt;a href=&#34;https://www.snowtomamu.jp/summer/ko/minamina/&#34; target=&#34;_blank&#34;&gt;ë¯¸ë‚˜ë¯¸ë‚˜ ë¹„ì¹˜&lt;/a&gt;ì—ì„œ ë¬¼ë†€ì´í•˜ê³ , &lt;a href=&#34;https://www.snowtomamu.jp/summer/ko/farm/&#34; target=&#34;_blank&#34;&gt;ëª©ì¥&lt;/a&gt;ì—ì„œ ì—¬ìœ ë¡­ê²Œ ì‚°ì±…í•˜ë©° ë›°ì–´ ë†€ì•˜ìŠµë‹ˆë‹¤. ë‹¤ë§Œ êµ¬ë¦„ í•œ ì  ì—†ëŠ” ì²­ëª…í•œ ë‚ ì”¨ ë•Œë¬¸ì— &lt;a href=&#34;https://www.snowtomamu.jp/summer/ko/unkai/&#34; target=&#34;_blank&#34;&gt;ìš´í•´&lt;/a&gt;ë¥¼ ë³´ì§€ ëª»í•´ì„œ ì‚´ì§ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤. ê²¨ìš¸ì— ë‹¤ì‹œ ë°©ë¬¸í•´ì„œ ìŠ¤í‚¤ë„ íƒ€ê³  ëˆˆ ë®ì¸ ë‹¤ë¥¸ ëª¨ìŠµë„ ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜¸í…” ëª¬í† ë ˆ ì‚¿í¬ë¡œëŠ” ì‚¿í¬ë¡œì—­ ê·¼ì²˜ì— ìˆìŠµë‹ˆë‹¤. ë°¤ì— ì£¼ë³€ì— ë‚˜ê°ˆ ê³³ì´ ë§ˆë•…íˆ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¨¼ì§€ê°€ ë§ì•„ì„œ ë¶ˆí¸í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì— ë˜ ì‚¿í¬ë¡œë¥¼ ê°„ë‹¤ë©´, ìŠ¤ìŠ¤í‚¤ë…¸ ì£¼ë³€ í˜¸í…”ì„ ì°¾ì•„ ë³¼ ìƒê°ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë£Œí…Œì´ í•˜ë‚˜ìœ ë¼ëŠ” ë‹¤ë‹¤ë¯¸ë°©ì´ ë„“ê³  ì´ë¶ˆë„ í‘¹ì‹ í•´ì„œ ì¢‹ì•˜ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ëŒ€ìš•ì¥ê³¼ ë…¸ì²œíƒ•ì´ í•˜ë‚˜ ë¿ì´ë¼ ì•„ì‰¬ì› ê³ , ì €ë… ì‹ì‚¬ì¸ ê°€ì´ì„¸í‚¤ ìš”ë¦¬ê°€ ë³´ê¸° ì¢‹ê²Œ ê¾¸ë©°ì§„ ê²ƒì— ë¹„í•´ ë§›ì´ ì‹¤ë§ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤. ë‹¤í–‰íˆ ì•„ì¹¨ì‹ì‚¬ëŠ” ë§Œì¡±ìŠ¤ëŸ¬ì›Œì„œ ê¸°ë¶„ ì¢‹ê²Œ ë§ˆë¬´ë¦¬ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;ë ŒíŠ¸ì¹´&#34;&gt;ë ŒíŠ¸ì¹´&lt;/h2&gt;

&lt;p&gt;ì°¨ëŠ” &lt;a href=&#34;https://www.timescar-rental.com/ko/&#34; target=&#34;_blank&#34;&gt;Times CAR RENTAL&lt;/a&gt;ì—ì„œ ì˜ˆì•½í–ˆìŠµë‹ˆë‹¤. êµ­ë‚´ ì—¬í–‰ì‚¬ë¥¼ í†µí•´ ì˜ˆì•½í•˜ëŠ” ê²ƒë³´ë‹¤ ì‰½ê³  ì €ë ´í–ˆìŠµë‹ˆë‹¤. í”„ë¦¬ìš°ìŠ¤ë¥¼ ë¹Œë ¸ëŠ”ë°, ê±°ì˜ ìƒˆì°¨ì— ê°€ê¹ê²Œ ì£¼í–‰ê±°ë¦¬ê°€ ì§§ê³  í ì§‘ë„ ì—†ê³  ì‹¤ë‚´ë„ ê¹¨ë—í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ì‹ ì¹˜í† ì„¸ ê³µí•­ ì§€ì  ì¶œë°œ -&amp;gt; ì‚¿í¬ë¡œì—­ ë™ìª½ ì§€ì  ë°˜ë‚©, 3ì¼ ëŒ€ì—¬: 23,814ì—” + HEP 3ì¼ 5,100ì—”&lt;/li&gt;
&lt;li&gt;ì‚¿í¬ë¡œì—­ ë™ìª½ ì§€ì  ì¶œë°œ -&amp;gt; ì‹ ì¹˜í† ì„¸ ê³µí•­ ì§€ì  ë°˜ë‚©, 1ì¼ ëŒ€ì—¬: 9,7200ì—” + HEP 2ì¼ 3,600ì—”&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ê³ ì†ë„ë¡œë¥¼ ì´ìš©í•œë‹¤ë©´ &lt;a href=&#34;https://www.driveplaza.com/trip/drawari/hokkaido_expass/kr.html&#34; target=&#34;_blank&#34;&gt;Hokkaido Expressway Pass&lt;/a&gt;ë¥¼ êµ¬ì…í•˜ëŠ” ê²ƒì´ ê²½ì œì ì…ë‹ˆë‹¤. ê³ ì†ë„ë¡œ ìš”ê¸ˆì´ ê½¤ ë¹„ìŒ‰ë‹ˆë‹¤. ê¸°ë¦„ê°’ì´ ìš°ë¦¬ë‚˜ë¼ì™€ ë¹„ìŠ·í•˜ê³ , í”„ë¦¬ìš°ìŠ¤ ì—°ë¹„ê°€ ì¢‹ì•„ì„œ ì£¼ìœ ë¹„ ë¶€ë‹´ì€ ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;ì´ë™-ê²½ë¡œ&#34;&gt;ì´ë™ ê²½ë¡œ&lt;/h2&gt;

&lt;p&gt;ì‹ ì¹˜í† ì„¸ ê³µí•­ê³¼ ì‚¿í¬ë¡œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì´ë™ ê²½ë¡œë¥¼ ì§€ë„ì— í‘œì‹œí•´ ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ëŒ€ëµì ì¸ ìœ„ì¹˜ì™€ ê±°ë¦¬ë¥¼ ì§ì‘ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;figure&gt;
    &lt;img src=&#34;hokkaido-route-2019.png#c&#34;
         alt=&#34;ì´ë™ ê²½ë¡œ&#34; width=&#34;600&#34;/&gt; 
&lt;/figure&gt;


&lt;p&gt;ì²«ë‚  ì‹ ì¹˜í† ì„¸ ê³µí•­ì—ì„œ í† ë§ˆë¬´ ë¦¬ì¡°íŠ¸ê¹Œì§€ í•œ ì‹œê°„ 30ë¶„ ì •ë„ ê±¸ë ¸ìŠµë‹ˆë‹¤. ì´íŠ¿ë‚ ì€ ë¦¬ì¡°íŠ¸ì—ì„œ ì‹œê°„ì„ ë³´ëƒˆê³ , ì…‹ì§¸ë‚  í† ë§ˆë¬´ì—ì„œ ì¶œë°œí•´ í›„ë¼ë…¸ì™€ ë¹„ì—ì´ë¥¼ ê±°ì³ ì‚¿í¬ë¡œê¹Œì§€ ê°€ëŠë¼ ë„¤ ì‹œê°„ ì´ìƒ ìš´ì „í–ˆìŠµë‹ˆë‹¤. ë„·ì§¸ë‚ ì€ ì‚¿í¬ë¡œ ì‹œë‚´ë¥¼ êµ¬ê²½í•˜ê³ , ë‹·ìƒ›ë‚  ì‚¿í¬ë¡œì—ì„œ ë‹›ì¹´ ìœ„ìŠ¤í‚¤ ìš”ì´ì¹˜ ì¦ë¥˜ì†Œì™€ ì˜¤íƒ€ë£¨ì— ê¸°ì°¨ë¥¼ íƒ€ê³  ë‹¤ë…€ì™”ìŠµë‹ˆë‹¤. ì—¿ìƒ›ë‚  ì‚¿í¬ë¡œì—ì„œ ë…¸ë³´ë¦¬ë² ì¸ ê¹Œì§€ ê°€ëŠ”ë°ë„ í•œì‹œê°„ 30ë¶„ ì •ë„ ê±¸ë ¸ìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ë‚ ì€ ë…¸ë³´ë¦¬ë² ì¸ ì—ì„œ ì‹œì½”ì¸  í˜¸ìˆ˜ê¹Œì§€ í•œ ì‹œê°„ ì •ë„ ê±¸ë ¸ê³ , ê·¸ë‹¤ìŒ ì‹ ì¹˜í† ì„¸ ê³µí•­ê¹Œì§€ 30ë¶„ ë§Œì— ê°ˆ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì°¨ì„  ë°©í–¥ì´ ìš°ë¦¬ë‚˜ë¼ì™€ ë‹¬ë¼ì„œ ì²˜ìŒì—ëŠ” ê¸´ì¥í•˜ê³  ì–´ìƒ‰í–ˆìŠµë‹ˆë‹¤. ê³ ì†ë„ë¡œì™€ ì°¨ëŸ‰ì´ ë§ì§€ ì•Šì€ ë„ì‹œ ì™¸ê³½ì—ì„œëŠ” ê¸ˆìƒˆ ì ì‘ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì‚¿í¬ë¡œ ì‹œë‚´ì—ëŠ” ì°¨ì™€ ë³´í–‰ìê°€ ë§ê³ , ì‹ í˜¸ë“±ë„ ìµìˆ™í•˜ì§€ ì•Šì•„ ì ì–ì´ ë‹¹í™©í–ˆìŠµë‹ˆë‹¤. ê²Œë‹¤ê°€ ì¼ë°©í†µí–‰ ë„ë¡œê°€ ì„ì—¬ ìˆì–´ì„œ ê²°êµ­ ì—­ì£¼í–‰ì„ í•˜ê²Œ ëìŠµë‹ˆë‹¤. ì‹œë‚´ì—ì„œ ìš´ì „ í•  ë•ŒëŠ” ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;ì†Œì†Œí•œ-íŒ&#34;&gt;ì†Œì†Œí•œ íŒ&lt;/h2&gt;

&lt;p&gt;ë‹›ì¹´ ìœ„ìŠ¤í‚¤ ìš”ì´ì¹˜ ì¦ë¥˜ì†Œë¥¼ ë°©ë¬¸í•œë‹¤ë©´, ì˜¤í›„ì— ê°€ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤. ì €ëŠ” ì˜¤ì „ì— ë°©ë¬¸í•˜ê³  ì ì‹¬ ë•Œ ì¯¤ ìœ„ìŠ¤í‚¤ë¥¼ ì‹œìŒ í–ˆìŠµë‹ˆë‹¤. ì˜¤í›„ì— ì‚´ì§ ì·¨í•œ ìƒíƒœì—ì„œ ì˜¤íƒ€ë£¨ë¥¼ ëŒì•„ë‹¤ë‹ˆê¸° í˜ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&#34;ë¶í•´ë„-ì¢‹ì•„ìš”&#34;&gt;ë¶í•´ë„ ì¢‹ì•„ìš”&lt;/h2&gt;

&lt;p&gt;5ì›” ë§ì— ë¶í•´ë„ ê°€ì¡± ì—¬í–‰ì„ ë¬´ì‚¬íˆ ë‹¤ë…€ì™”ìŠµë‹ˆë‹¤. ì‚¬ì§„ì„ êº¼ë‚´ ë³´ê³  ì •ë¦¬í•˜ë©´ì„œ ì¦ê±°ì› ë˜ ì—¬í–‰ì„ íšŒìƒí–ˆìŠµë‹ˆë‹¤. ê²¨ìš¸ì— ë°©ë¬¸í•´ì„œ ë¶í•´ë„ì˜ ë‹¤ë¥¸ ëª¨ìŠµì„ ë³´ê³  ì‹¶ê³  ìŠ¤í‚¤ë„ íƒ€ê³  ì‹¶ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;figure&gt;
    &lt;img src=&#34;IMG_1396.jpg#c&#34;
         alt=&#34;í˜¸ì‹œë…¸ ë¦¬ì¡°íŠ¸ í† ë§ˆë¬´ ë” íƒ€ì›Œ&#34; height=&#34;400&#34;/&gt; 
&lt;/figure&gt;

</content>
      
    </item>
    
  </channel>
</rss>